<!DOCTYPE html>

<html lang="sl">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <meta name="description" content="Spletna stran z urnikom Gimnazije Vič" />
    <meta name="keywords" content="gimnazija-vic,gimvic,urnik" />

    <title>Urnik Gimnazije Vič</title>

    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg" color="#007300" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta name="apple-mobile-web-app-title" content="GimVič" />
    <meta name="application-name" content="GimVič" />
    <meta name="msapplication-TileColor" content="#007300" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    <meta name="theme-color" content="#007300" />

    <link rel="preload" href="/css/bootstrap.min.css" as="style" />
    <link rel="preload" href="/css/timetable.css" as="style" />
    <link rel="preload" href="/js/jquery.min.js" as="script" />
    <link rel="preload" href="/js/bootstrap.min.js" as="script" />
    <link rel="preload" href="/js/navigo.min.js" as="script" />
    <link rel="preload" href="/js/pulltorefresh.min.js" as="script" />
    <link rel="preload" href="/js/broadcastchannel.min.js" as="script" />
    <link rel="preload" href="/js/data.js" as="script" />
    <link rel="preload" href="/js/timetable.js" as="script" />

    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/timetable.css" />
  </head>

  <body>
    <div class="container pt-3 pb-3 d-none d-lg-block">
      <h1 class="text-center">Urnik Gimnazije Vič</h1>
      <p class="text-center leader" id="class-name-desktop"></p>
    </div>

    <nav class="navbar navbar-expand navbar-dark d-lg-none" role="navigation">
      <div class="navbar-brand float-left">
        <img src="/icons/circle-badge-192x192.png" width="30" height="30" class="d-inline-block align-top" alt="GimVič Logo" />
        Urnik <span id="class-name-mobile"></span>
      </div>
      <a href="/settings" class="navbar-settings ml-auto">
        <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gear" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
          <title>Nastavitve</title>
          <path fill-rule="evenodd" d="M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z"/>
          <path fill-rule="evenodd" d="M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z"/>
        </svg>
      </a>
    </nav>

    <nav class="nav d-lg-none" id="day-switcher">
      <a class="nav-link" id="day-switcher-1" href="#">Ponedeljek</a>
      <a class="nav-link" id="day-switcher-2" href="#">Torek</a>
      <a class="nav-link" id="day-switcher-3" href="#">Sreda</a>
      <a class="nav-link" id="day-switcher-4" href="#">Četrtek</a>
      <a class="nav-link" id="day-switcher-5" href="#">Petek</a>

      <span id="magic-line"></span>
    </nav>

    <main role="main" id="main">
      <div class="container">
        <noscript><p class="pt-2 text-center lead">Spletna stran za delovanje potrebuje JavaScript.</p></noscript>
        <p class="pt-2 d-none text-center lead" id="not-found-message">Strani, ki ste jo zahtevali, ni bilo mogoče najti.</p>

        <table class="d-none table table-bordered text-center" id="timetable">
          <thead class="d-none d-lg-table-header-group">
            <tr>
              <th scope="col" class="align-middle">Ura</th>
              <th scope="col" class="align-middle" id="day-1">Ponedeljek</th>
              <th scope="col" class="align-middle" id="day-2">Torek</th>
              <th scope="col" class="align-middle" id="day-3">Sreda</th>
              <th scope="col" class="align-middle" id="day-4">Četrtek</th>
              <th scope="col" class="align-middle" id="day-5">Petek</th>
            </tr>
          </thead>
          <tbody id="timetable-body">
          </tbody>
        </table>

        <div class="col offset-lg-3 d-none pt-2" id="settings">
          <p><span id="class-name-settings-label"></span>: <span id="class-name-settings"></span></p>
          <p>Izbrana malica: TODO</p>
          <p>Izbrano kosilo: TODO</p>

          <p class="pt-4">
            <span class="mr-1">Prikaži nadomeščanja:</span>
            <label class="switch">
              <input type="checkbox" id="show-substitutions" checked />
              <span class="slider"></span>
            </label>
          </p>

          <p class="pt-1">
            <span class="mr-1">Povleci za posodobitev:</span>
            <label class="switch">
              <input type="checkbox" id="enable-pull-to-refresh" checked />
              <span class="slider"></span>
            </label>
          </p>

          <p class="pt-1">
            <span class="mr-1">Povezave v urniku:</span>
            <label class="switch">
              <input type="checkbox" id="enable-links-in-timetable" checked />
              <span class="slider"></span>
            </label>
          </p>

          <div class="btn-toolbar">
            <button type="button" class="btn btn-outline-success btn-sm mr-2 mt-1" id="select-class">Izberi razred</button>
            <button type="button" class="btn btn-outline-success btn-sm mt-1" id="select-food" onclick="alert('Not implemented yet')">Izberi malico in kosilo</button>
          </div>

          <p class="pt-4">Posodobljeno: <span class="text-nowrap" id="last-updated-settings"></span></p>

          <div class="btn-toolbar">
            <button type="button" class="btn btn-outline-dark btn-sm mr-2 mt-1" id="update-data">Posodobi podatke</button>
            <button type="button" class="btn btn-outline-dark btn-sm mt-1" id="update-everything">Posodobi vse</button>
          </div>
        </div>

        <div id="not-settings">
          <p class="pt-3 text-center lead last-updated">Zadnjič posodobljeno: <span class="text-nowrap" id="last-updated"></span></p>
          <p class="d-none d-lg-block text-center lead"><a href="/settings">Nastavitve</a></p>
        </div>
      </div>
    </main>

    <div class="modal modal-fullscreen" id="class-selection-modal" tabindex="-1" role="dialog" aria-labelledby="class-selection-modal-title" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <img src="/icons/circle-badge-192x192.png" height="150" class="modal-logo" id="class-selection-modal-logo" alt="GimVič Logo" />
            <h5 class="modal-title" class="d-block" id="class-selection-modal-title"></h5>
            <button type="button" class="close" id="class-selection-modal-close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="text-center" id="first-time">
              <p>Aplikacija GimVič prikazuje urnik in nadomeščanja <!--, jedilnik ter razpored kosila za dijake in profesorje -->Gimnazije Vič.</p>
              <p>Aplikacija je neuradna in lahko vsebuje nepopolne podatke. Za ogled uradnih podatkov uporabite <a href="https://ucilnica.gimvic.org/">Spletno učilnico Gimnazije Vič</a>.</p>

              <div class="justify-content-center btn-toolbar" id="class-selection">
                <button type="button" class="btn btn-outline-success mt-1" id="confirm-first-time">OK</button>
              </div>
            </div>

            <div class="justify-content-center btn-toolbar" id="type-selection">
              <button type="button" class="btn btn-outline-success mr-2 mt-1" id="class-selection-class">Razred</button>
              <button type="button" class="btn btn-outline-success mr-2 mt-1" id="class-selection-teacher">Profesor</button>
              <button type="button" class="btn btn-outline-success mr-2 mt-1" id="class-selection-classroom">Učilnica</button>
            </div>

            <div class="form-group" id="value-selection">
              <select class="form-control" id="value-selection-select" required></select>

              <div class="text-center">
                <div class="pt-2">
                  <span class="mr-1">Shrani izbiro:</span>
                  <label class="switch">
                    <input type="checkbox" id="value-selection-should-store" checked />
                    <span class="slider"></span>
                  </label>
                </div>

                <button type="button" class="btn btn-outline-success mr-2 mt-2" id="value-selection-submit">Potrdi</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="toast hide" id="offline-warning" role="alert" aria-live="polite" aria-atomic="true" data-delay="5000">
      <div class="toast-body" role="alert" aria-live="assertive" aria-atomic="true">Internetna povezava ni na voljo</div>
    </div>

    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>

    <script src="/js/navigo.min.js"></script>
    <script src="/js/pulltorefresh.min.js"></script>
    <script src="/js/broadcastchannel.min.js"></script>

    <script src="/js/data.js" id="data-provider"></script>
    <script src="/js/timetable.js"></script>

    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/service-worker.js')
        })
      }
    </script>
  </body>
</html>
